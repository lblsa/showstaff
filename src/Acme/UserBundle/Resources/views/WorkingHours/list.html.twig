{% extends 'SupplierBundle::base.html.twig' %}

{% block body %}
<div class="row-fluid metro-datepicker">
	<div class="metro span9">
		<div class="metro-sections" style="width: 1035px; left: 0px; ">
			<div class="metro-section" id="section1">
				<a class="tile wide text bg-color-gree" href="./square-tiles-templates.html">
					<div class="text-header3">Смены для ресторана</div>
					<div class="text2">Редактирование смен доступно для любой будущей даты и смены должны быть сформированы до полуночи (либо пока директор не утвердит)</div>
				</a>

				<a class="tile square text tile-double bg-color-orange" style="background-color: #C33;" href="./wide-tiles-templates.html">
					<div class="text-header">Директор утверждает смены</div>
					<div class="text2">Либо они закроются для редактирования в определенное время</div>
				</a>

				<a class="tile half-wide  text bg-color-green" href="./widepeek-tiles-templates.html">
					<div class="text-header3">Фактическое время работы</div>
					<div class="text2">Каждый день до 14:00 менеджер ресторана должен внести фактическое время работы сотрудников</div>
				</a>
			</div>
		</div>
	</div>
	<div class="span3">
		<link rel="stylesheet" href="/css/jquery-ui.css">
    	<script src="/js/jquery-ui-1.8.16.custom.min.js"></script>
		<div id="smena_datapicker"></div>
		<input type="hidden" value="{{ date }}" class="wh_datepicker" />
		<script>
			$( "#smena_datapicker" ).datepicker(); //"setDate", "{{ date }}"
			var sday = $( "#smena_datapicker" ).datepicker( "getDate" );
			var s_date = sday.getFullYear()+'-'+(sday.getMonth()+1)+'-'+sday.getDate();
		</script>
	</div>
</div>
{% if agreed == 1 %}
	<div class="row-fluid agreed_all">
		<a class="btn" rel="disagreed">Разутвердить всех</a>
		<a class="btn" rel="agreed">Утвердить всех</a>
	</div>
	<hr>
{% endif %}

<h2>Смена для ресторана "{{ restaurant.name }}" на <span class="curent-date-header">{{ date }}</span></h2>
<table class="table table-bordered table-striped" id="shift_list">
	<thead>
		<tr>
			<th>Пользователь</th>
			<th>Должность</th>
			<th>Запланировано часов</th>
			<th>Фактических часов</th>
			<th>Утвержден</th>
			<th class="contr"></th>
		</tr>
		<tr id="add_row">
			<th colspan="6" class="add">
				<a href="#" class="create btn btn-small">Добавить сотрудника <i class="icon-plus-sign"></i></a>
				<div class="form-inline hide forms">
					<div class="controls-group">
						<div class="controls">
							<select name="user_add" class="user_add"></select>
						</div>
						<div class="controls">
							<select name="duty_add" class="duty_add"></select>
						</div>
						<div class="controls">
							<input type="number" placeholder="Запланировано часов" class="planhours_add" name="planhours_add" />
						</div>
						<div class="controls">
							<input type="number" placeholder="Фактических часов" class="facthours_add" name="planhours_add" />
						</div>
						<div class="controls">
							<button class="add_employee btn btn-mini btn-success">add</button>
						</div>
					</div>
				</div>
			</th>
		</tr>
	</thead>
</table>
{% if edit_mode == 1 %}
	<script src="/js/workinghours.js"></script> <!-- редактирование всего -->
{% else %}
	{% if edit_mode == 2 %}
		<script src="/js/workinghours_fact.js"></script> <!-- правка только фактических часов -->
	{% else %}
		<script src="/js/workinghours_view.js"></script> <!-- только просмотр -->
	{% endif %}
{% endif %}

{% endblock %}
