{# src/Supplier/SupplierBundle/Resources/views/base.html.twig #}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ShowStaff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/datepicker.css" rel="stylesheet">
    <style type="text/css">
      .sidebar-nav { padding: 9px 0; }
    </style>
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
	<script src="/js/jquery.js"></script>
	<script src="/js/underscore-min.js"></script>
	<script src="/js/backbone.js"></script>
    <script src="/js/bootstrap-tooltip.js"></script>
    <script src="/js/bootstrap-modal.js"></script>
    <script src="/js/bootstrap-datepicker.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/menu.min.js"></script>
    <script src="/js/feedback.js"></script>
    
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-35948738-1']);
	_gaq.push(['_setDomainName', 'showstaff.ru']);
	_gaq.push(['_trackPageview']);

	(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
  
	var _gaq = window._gaq || [];
	window.onerror = function(msg, url, line) {
		var preventErrorAlert = true;
		_gaq.push(['_trackEvent', 'JS Error', msg, navigator.userAgent + ' -> ' + url + " : " + line, 0, true]);
		return preventErrorAlert;
	};
	
	jQuery.error = function (message) {
		_gaq.push(['_trackEvent', 'jQuery Error', message, navigator.userAgent, 0, true]);
	}
</script>
<input type="hidden" id="refreshed" value="no" />

<div class="meny">
	<ul class="nav nav-list">
		{% if company.id is defined %}<li class="nav-header">Компания "{{ company.name }}"</li>{% endif %}
		<li class="active"><a href="/">Home</a></li>
		{% if company.id is defined %}
		<li><a href="/company/{{ company.id }}/restaurant">Управление ресторанами</a></li>
		<li><a href="/company/{{ company.id }}/user">Пользователи компании</a></li>
		<li><a href="/company/{{ company.id }}/product">Продукты компании</a></li>
		<li class="divider"></li>
		<li class="nav-header">Поставщик</li>
		<li><a href="/company/{{ company.id }}/supplier">Управление поставщиками</a></li>
		<li><a href="/company/{{ company.id }}/order">Заказы</a></li>{% endif %}
		<li class="divider"></li>
		<li class="nav-header">Супер админ</li>
		<li><a href="/company">Управление компаниями</a></li>
		<li><a href="/user">Администраторы компании</a></li>
	</ul>
</div>

<div class="meny-arrow"></div>

<div class="contents">
    <div class="container">
		<div class="navbar navbar-inverse">
		  <div class="navbar-inner">
			<div class="container-fluid">
			  <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			  </a>
			  <a class="brand" href="/">Show Staff</a>
			  <div class="nav-collapse collapse">
				<p class="navbar-text pull-right">
					{% if app.user.username is defined %}
						Logged in as <a href="#" class="navbar-link">{% if app.user.fullname is defined %}{{ app.user.fullname }}{% else %}{{ app.user.username }}{% endif %}</a>
					{% endif %}
					
					{% if is_granted('ROLE_USER') %}
						,  <a href="{{ path('logout') }}">Logout</a>
					{% else %}
						<a href="{{ path('login') }}">Login</a>
					{% endif %}
				</p>
				<ul class="nav">
				  <li class="active"><a href="/">Home</a></li>
				</ul>
			  </div><!--/.nav-collapse -->
			</div>
		  </div>
		</div>
		
      <div class="row">
        <div class="span12">
		 {% block body %}{% endblock %}
					 
		 <div id="up">
		  <div class="alert hide alert-error"><button type="button" class="close">×</button>
			Ошибка. <strong></strong><br>Попробуйте еще раз или обратитесь к администратору.
		  </div>
		  <div class="alert hide alert-success"><button type="button" class="close">×</button>
			<strong>Продукт добавлен</strong>
		  </div>
		  <div class="progress progress-striped active hide" id="preloader"><div class="bar" style="width: 100%;"></div></div>
			<div class="progress progress-striped green active hide" id="preloader_s"><div class="bar" style="width: 100%;"></div></div>
		  </div>
		 
        </div><!--/span-->
      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; Company 2012</p>
      </footer>

    </div><!--/.fluid-container-->
</div>
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    
	<script>
		// Create an instance of Meny
		var meny = Meny.create({
			// The element that will be animated in from off screen
			menuElement: document.querySelector( '.meny' ),

			// The contents that gets pushed aside while Meny is active
			contentsElement: document.querySelector( '.contents' ),

			// [optional] The alignment of the menu (top/right/bottom/left)
			position: 'right',

			// [optional] The height of the menu (when using top/bottom position)
			height: 200,

			// [optional] The width of the menu (when using left/right position)
			width: 260,

			// [optional] Distance from mouse (in pixels) when menu should open
			threshold: 40
		});

		// API Methods:
		// meny.open();
		// meny.close();
		// meny.isOpen();
		
		// Events:
		// meny.addEventListener( 'open', function(){ console.log( 'open' ); } );
		// meny.addEventListener( 'close', function(){ console.log( 'close' ); } );

		// Embed an iframe if a URL is passed in
		if( Meny.getQuery().u && Meny.getQuery().u.match( /^http/gi ) ) {
			var contents = document.querySelector( '.contents' );
			contents.style.padding = '0px';
			contents.innerHTML = '<div class="cover"></div><iframe src="'+ Meny.getQuery().u +'" style="width: 100%; height: 100%; border: 0; position: absolute;"></iframe>';
		}
	</script>
    
    <script src="/js/bootstrap-transition.js"></script>
    <script src="/js/bootstrap-alert.js"></script>
    <script src="/js/bootstrap-modal.js"></script>
    <script src="/js/bootstrap-dropdown.js"></script>
    <script src="/js/bootstrap-scrollspy.js"></script>
    <script src="/js/bootstrap-tab.js"></script>
    <script src="/js/bootstrap-popover.js"></script>
    <script src="/js/bootstrap-button.js"></script>
    <script src="/js/bootstrap-collapse.js"></script>
    <script src="/js/bootstrap-carousel.js"></script>
    <script src="/js/bootstrap-typeahead.js"></script>
  </body>
</html>
